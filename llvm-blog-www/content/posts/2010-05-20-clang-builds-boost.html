---
author: Doug Gregor
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-7925447731291809852
blogger_orig_url: http://blog.llvm.org/2010/05/clang-builds-boost.html
date: "2010-05-20T13:42:00Z"
modified_time: "2010-05-20T15:10:54.249-07:00"
tags: ["C++","Clang"]
title: Clang++ Builds Boost!
---

<a href="http://www.boost.org/">Boost</a> is a collection of open-source, peer-reviewed C++ libraries that's well-known for having many good utility components for C++ programmers. It's also well-known for using bleeding-edge C++ techniques, such as extensive template and preprocessor metaprogramming, that have pushed many C++ compilers beyond their breaking point. Beyond just being a library, Boost has become a benchmark and a selling point for C++ compilers: is your compiler standards-confomant enough to build Boost?<br /><div><br /></div><div>Clang is.</div><div><br /><a name='more'></a><br /></div><div>This morning, Clang++ had its first fully-successful Boost regression test run, passing every applicable C++ test on the Boost release branch [*]. According to today's <a href="http://www.boost.org/development/tests/release/developer/summary.html">results</a>, Clang is successfully compiling more of Boost than other, established compilers for which Boost has historically been tailored (through various workarounds and configuration switches). In fact, Clang's <a href="http://svn.boost.org/svn/boost/branches/release/boost/config/compiler/clang.hpp">compiler configuration</a> in Boost is completely free of any of Boost's C++98/03 defect macros.</div><div><br /><div>As for the specifics: tests were run on Mac OS X 10.6 (Snow Leopard) with Clang targeting x86-64, debug build of Boost with the Clang toolset and a Release build of Clang from Subversion trunk.<br /><div><div><br /></div><div>If you want to try Boost with Clang, first <a href="http://clang.llvm.org/get_started.html">get Clang from Subversion</a> trunk and then <a href="https://svn.boost.org/trac/boost/wiki/BoostSubversion">get Boost from Subversion</a> (the release branch is most stable) and edit your <span class="Apple-style-span"  style="font-family:'courier new';">~/user-config.jam</span> file by adding the following line:</div><div><br /></div><div><span class="Apple-style-span"  style="font-family:'courier new';"> using clang ;</span></div><div><br /></div><div>assuming that "clang++" is in your path. Then, you can run</div><div><br /></div><div><span class="Apple-style-span"  style="font-family:'courier new';">bjam toolset=clang</span></div><div><br /></div><div>to instruct Boost.Build to use Clang as its compiler.</div><div><br /></div><div><br /></div><div>[*] For those keeping score, the "build" results are build-system tests, not compiler tests, and the MPI tests are disabled due to <a href="https://svn.boost.org/trac/boost/ticket/4214">breakage</a> in the Serialization library. We are working with the library author to address the Serialization problems in Boost.</div></div></div></div>
