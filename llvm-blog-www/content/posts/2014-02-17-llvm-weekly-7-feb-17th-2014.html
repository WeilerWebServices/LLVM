---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-2721232636220706162
blogger_orig_url: http://blog.llvm.org/2014/02/llvm-weekly-7-feb-17th-2014.html
date: "2014-02-17T04:19:00Z"
modified_time: "2014-04-06T10:29:50.355-07:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #7, Feb 17th 2014'
aliases:
 - /2014/02/llvm-weekly-7-feb-17th-2014.html
---

<p>Welcome to the seventh issue of LLVM Weekly, a weekly newsletter (published  every Monday) covering developments in LLVM, Clang, and related projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex Bradbury</a>. Subscribe to future issues at <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone  else you think may be interested. Please send any tips or feedback to  <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or  <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p><p>As always, apologies if I didn't pick up your favourite mailing list  discussion or commits. Do drop me a line if you think I'm missing something  interesting. There haven't been that many external news stories or blog posts  (that I've found) in the last week, but it's been a particularly busy week on  the mailing lists with a whole bunch of interesting discussions or RFCs.</p> <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/7">can be found here at llvmweekly.org</a>. </p> <a name='more'></a> <h3>News and articles from around the web</h3><p>The <a href="http://ellcc.org/">ELLCC Embedded Compiler Collection</a> now <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70441">has  precompiled builds  available</a> for  ARM, i386, Mips, PowerPC and x86-64. Handily, these are all statically linked. The aim of ELLCC is to provide an easy to use multi-target cross compilation  environment for embedded systems, and is of course based on LLVM and clang.</p><p>The next Waterloo Region LLVM Social <a href="http://article.gmane.org/gmane.comp.debugging.lldb.devel/3237/">has been announced for Feb  20th</a>.</p><p>The next Paris LLVM Social <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70330">will take place on Feb  24th</a>, hosted  by Mozilla.</p><h3>On the mailing lists</h3><ul><li><p>Philip Reames contributed an RFC on <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70430">using GetElementPtr as the canonical  form for pointer addressing in LLVM IR before  CodeGenPrepare</a>. The motivation behind this proposal will be interesting to many, particularly  the Rust community and other language implementors looking to target LLVM. Philip and his colleagues (at Azul Systems I believe) are looking to support  precise garbage collection in LLVM, and excitingly a complete upstreamable  implementation should be coming "relatively shortly. (i.e. months, not weeks,  not years)"</p></li><li><p>As a followup to last week's discussions on the GCC mailing list, Renato  Golin has written a <a href="http://article.gmane.org/gmane.comp.gcc.devel/134419/">detailed proposal on how LLVM and GCC developers can  co-operate</a>. He is  welcoming responses <a href="http://developers.slashdot.org/comments.pl?sid=4769281&amp;cid=46209457">on  Slashdot</a>. Chris Lattner is very much in favour of the effort, though points out that  there are some lists already used for this purpose (such as the 'Itanium ABI  list', which I assume refers to  <a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">cxx-abi-dev</a>)  and perhaps other similar vendor-neutral mailing lists could be created.</p></li><li><p>Tom Roeder has posted an <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70274">RFC on the integration of control-flow integrity  techniques in to  LLVM</a>. Control-flow integrity (CFI) helps to protect against a variety of attacks by  ensuring control flow at run time matches a path determined ahead of time, and  is described in <a href="http://research.microsoft.com/pubs/69217/ccs05-cfi.pdf">this 2005  paper</a>. Tom has an  implementation that has been tested on Chromium, producing an overhead of ~4%  for the dromaeo benchmark. JF Bastien responded indicating the PNaCl team  would be interested in this work, while other respondents discussed  representing a jump table in LLVM IR as opposed to inline assembly.</p></li><li><p>Jordan Rose kicked off a discussion on <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/35023">the future of the clang static  analyzer</a>. One issue he raises is how to mark issues as false positives, hopefully in a  more sophisiticated way than disabling checkers. He also mentions long term  plans for adding a full-program analysis mode that would work across  translation units. Ted Kremenek <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/35025">follows  up</a> with more  details about treating reported diagnostics as 'issues' which might be  suppressed individually.</p></li><li><p>Andrew Bokhanko from Intel initiated a <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/34995">discussion on adding some sort of  SIMD pragma to  Clang</a>. Options include upstreaming the implementation of OpenMP 4's <code>#pragma omp  simd</code> from <a href="http://clang-omp.github.com">clang-omp</a>.</p></li><li><p>Mahdi Hamzeh writes to the mailing list with a <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70348">query about if-converting  before register  allocation</a>. Andrew Trick points to the EarlyIfConverter, which can be run before register  allocation but only generates conditional moves rather than predicating  instructions. He <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70354">suggests an  approach</a> for  implementing if-conversion as a target-specific pass.</p></li><li><p>Vadim Chugunov <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70280">kicks off a discussion on a compiler-rt  roadmap</a>. Issues  include a potential rename, whether libunwind should be removed, and ensuring  that it builds for all platforms that LLVM can target.</p></li><li><p>Matt Arsenault is <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70390">seeking ideas on solving a problem where loop induction  variables are larger than they need to  be</a>.</p></li><li><p>Howard Hinnant is stepping down as code owner of libc++ and it <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70419">looks like  Marshall Clow</a>  is going to take over. Many LLVM devs also drop by to thank Howard for his  hard work on libc++.</p></li><li><p>Ted Kremenek gives a <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/35049">great summary of the status of ArrayBoundChecker and  ArrayBoundCheckerV2</a>.</p></li></ul><h3>LLVM commits</h3><ul><li><p>AsmPrinter::EmitInlineAsm() will no longer use the EmitRawText() call for  targets with mature MC (MachineCode) support. The MCASMInfo::UseIntegratedAS  field was added. When true, the integrated assembler will parse inline  assembly even when emitting assembly output. <a href="http://reviews.llvm.org/rL201333">r201237</a>.</p></li><li><p>The RTDyld API learned to precompute the amount of memory required for all  sections in a module, and reserveAllocationSpace to reserve the given amount  of space. <a href="http://reviews.llvm.org/rL201259">r201259</a>.</p></li><li><p>The LTO API gained <code>lto_module_create_from_memory_with_path</code>, which is  mainly useful for emitting warning messages from the linker. <a href="http://reviews.llvm.org/rL201114">r201114</a>.</p></li><li><p>ScalarEvolution will now analyze the trip count of loops where there is a  switch guarding the exit. <a href="http://reviews.llvm.org/rL201159">r201159</a>.</p></li><li><p>The notes on Phabricator now include a suggestion to provide a link to the  Differential revision (the code review) on commits that have been reviewed in  this way. Please do this! <a href="http://reviews.llvm.org/rL201160">r201160</a>.</p></li><li><p>The AArch64 backend now recognises Cortex-A53 and Cortex-A57. <a href="http://reviews.llvm.org/rL201305">r201305</a>.</p></li><li><p>The ARM integrated assembler gained partial support for the  <code>.arch_extension</code> directive. <a href="http://reviews.llvm.org/rL201471">r201471</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>There have been yet more updates to Clang's Microsoft ABI compatibility.  Clang now understands Microsoft's <code>pointers_to_members</code> pragma. <a href="http://reviews.llvm.org/rL201105">r201105</a> as well as the  <code>vtordisp</code> pragma <a href="http://reviews.llvm.org/rL201274">r201274</a>. In  other MS ABI developments, the <code>-vm{b,g,s,m,v}</code> are now supported too. <a href="http://reviews.llvm.org/rL201175">r201175</a>.</p></li><li><p>The command line option <code>-fstack-protector-strong</code> was added. <a href="http://reviews.llvm.org/rL2011120">r201120</a>. See also  <a href="http://reviews.llvm.org/rL200601">r200601</a> for info on the  sspstrong function attribute.</p></li><li><p>Frontend support for the OpenMP <code>if</code> clause was committed. <a href="http://reviews.llvm.org/rL201297">r201297</a>.</p></li><li><p>You can use the <code>--rtlib=compiler-rt</code> flag to attempt to link against  compiler-rt rather than libgcc. <a href="http://reviews.llvm.org/rL201307">r201307</a>.</p></li><li><p>The <code>-Wignored-pragmas</code> diagnostic was added, that will warn in any case  where a pragma would have a side effect but is ignored. <a href="http://reviews.llvm.org/rL201102">r201102</a>.</p></li><li><p>The name of the checker producing each diagnostic message is now available  through <code>getCheckName()</code>. This can be used to enable/disable a specific  checker. <a href="http://reviews.llvm.org/rL201186">r201186</a>.</p></li><li><p>Clang now understands the <code>-fbuild-session-timestamp=</code> and  <code>-fmodules-validate-once-per-build-session</code> flags which allows you to make it  verify source files for a module only once during a build. <a href="http://reviews.llvm.org/rL201224">r201224</a>,  <a href="http://reviews.llvm.org/rL201225">r201225</a>.</p></li></ul><h3>Other project commits</h3><ul><li><p>The sanitizer projects in compiler-rt gained the beginnings for a deadlock  detector. <a href="http://reviews.llvm.org/rL201302">r201302</a>,  <a href="http://reviews.llvm.org/rL201407">r201407</a>..</p></li><li><p>The original compiler-rt functions (i.e. those that act as a libgcc  replacement) now live in the lib/builtins directory. <a href="http://reviews.llvm.org/rL201393">r201393</a>.</p></li><li><p>In lldb, the user can now specify trap-handler-names, a list of functions  which should be treated as trap handlers. <a href="http://reviews.llvm.org/rL201386">r201386</a>.</p></li></ul>
