---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-3822966559741886709
blogger_orig_url: http://blog.llvm.org/2014/03/llvm-weekly-10-mar-10th-2014.html
date: "2014-03-10T07:43:00Z"
modified_time: "2014-04-06T10:30:19.695-07:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #10, Mar 10th 2014'
aliases: 
 - /2014/03/llvm-weekly-10-mar-10th-2014.html
---

<p>Welcome to the tenth issue of LLVM Weekly, a weekly newsletter (published  every Monday) covering developments in LLVM, Clang, and related projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex Bradbury</a>. Subscribe to future issues at <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone  else you think may be interested. Please send any tips or feedback to  <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p><p>This week the book I authored in collaboration with <a href="https://twitter.com/ben_everard">Ben Everard</a>, <a href="http://www.amazon.co.uk/Learning-Python-Raspberry-Alex-Bradbury/dp/1118717058">Learning Python with  Raspberry  Pi</a>  (<a href="http://www.amazon.com/Learning-Python-Raspberry-Alex-Bradbury/dp/1118717058/">Amazon  US</a>) is officially released.</p> <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/10">can be found here at llvmweekly.org</a>. </p>  <a name='more'></a> <h3>News and articles from around the web</h3><p>John Regehr has written a blog post detailing <a href="http://blog.regehr.org/archives/1109">some ideas for implementing a  superoptimizer for LLVM</a>. There's some  good stuff in the comments too.</p><p>Version 2.1 of the Capstone disassembly framework has <a href="http://www.capstone-engine.org/Version-2.1.html">been  released</a>. Library size is  about 40% smaller, memory usage is down 40% and there are performance  improvements as well.</p><p>Facebook have released <a href="https://github.com/facebook/chisel">Chisel</a>, a  collection of LLDB commands to assist debugging iOS apps.</p><p>A <a href="https://github.com/gilligan/vim-lldb">fork of vim-lldb</a>, the LLDB plugin  for Vim included in the lldb repo has appeared. Changes so far have been  relatively minor.</p><h3>On the mailing lists</h3><ul><li><p>Probably one of the most interesting discussions on the mailing list this  week came from Mark Seaborn's <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70908">questions about upstreaming PNaCl's IR  simplification  passes</a>. Both  PNaCl and the new Emscripten fastcomp backend make use of a series of  out-of-tree IR-to-IR passes that simplify the IR by lowering complex to  simpler features. The suggestion is to upstream these so that everyone can  benefit. Chandler Carruth <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70918">raises  concerns</a> that  these passes might bitrot without any in-tree users, suggesting that the PNaCl  and Emscripten communities could do more to contribute to upstream LLVM and  that such a track record would help ease that concern. There are a number of  people chiming in to say they would find the functionality useful.</p></li><li><p>Diego Novillo asks <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70998">whether people would be interested in an optimization  report  facility</a>. This would give useful information about the decisions taken by various  optimisers, which might be useful when investigating why code doesn't perform  as expected and in finding missed optimisations. Unsurprisingly, everyone  thinks this would be a good feature. Diego promises to write some more  detailed, concrete proposals in the coming days now it's clear people like the  general idea.</p></li><li><p>Kev Kitchens <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70896">asks about cross-compiling  compiler-rt</a>. Vadim Chugunov helpfully points to <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/70902">his work on Rust's fork of  compiler-rt</a>  to support this. It's also pointed out in the thread that support for  unwinding actually lives in libc++abi rather than in a separate libunwind  where you might expect to find it.</p></li><li><p>There's a pretty <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/35446">long discussion on naming for reverse iterators and other  issues</a> which  should make entertaining reading for anyone who enjoys bikeshedding (not that  there's anything wrong with it, there's some good discussion of API naming  principles there).</p></li><li><p>Tim Northover has shared an RFC (with initial patch) on <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/71039">adding a second  ordering operand to  cmpxchg</a> which  which indicates the failure ordering.</p></li></ul><h3>LLVM commits</h3><ul><li><p>A new implementation of PBQP (partitioned boolean quadratic  programming)-based register allocator landed. <a href="http://reviews.llvm.org/rL202735">r202735</a>. The original commit  (<a href="http://reviews.llvm.org/rL202551">r202551</a>) message details the  changes, including massively reduced memory consumption. Average memory  reduction is claimed to be 400x. The tagline is "PBQP: No longer feasting upon  every last byte of your RAM".</p></li><li><p>AArch64 gained a machine description for Cortex-A53, which involved giving  all non-NEON instructions scheduling annotations. <a href="http://reviews.llvm.org/rL203125">r203125</a>. REVERTED</p></li><li><p>The SPARC backend gained support for the VIS SIMD instruction set  extensions. <a href="http://reviews.llvm.org/rL202660">r202660</a></p></li><li><p>A whole bunch of classes moved around, with the intention that LLVM's  support library will work when building with C++ modules. <a href="http://reviews.llvm.org/rL202814">r202814</a> and many others. InstIterator, GetElementPtrTypeIterator, CallSite, PatternMatch, ValueHandle,  ValueMap, CFG, ConstantFolder, NoFolder, PredIteratorCache, ConstantRange,  PassNameParser, and LeakDetector moved from Support to IR.</p></li><li><p>The <code>PROLOG_LABEL</code> TargetOpcode was replaced with <code>CFI_INSTRUCTION</code> which is  intended to have simpler semantics and be less convoluted to use. See the  commit message for more details. <a href="http://reviews.llvm.org/rL203024">r203204</a>.</p></li><li><p>Uses of <code>OwningPtr&lt;T&gt;</code> were replaced with <code>std::unique_ptr&lt;T&gt;</code>. <a href="http://reviews.llvm.org/rL203083">r203083</a>.</p></li><li><p>The <code>inalloca</code> grammar was cleaned up. <a href="http://reviews.llvm.org/rL203376">r203376</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>The PGO (profile-guided optimisation) code got some minor refactoring in  preparation for handling non-C/C++ code, and initial suport for Objective-C  blocks. <a href="http://reviews.llvm.org/rL203073">r203073</a>,  <a href="http://reviews.llvm.org/rL203157">r203157</a>.</p></li><li><p>Module dependences are now included in the dependency files created by  <code>-MD/-MMD</code> etc. <a href="http://reviews.llvm.org/rL203208">r203208</a>.</p></li><li><p>The <code>-Wunreachable-code</code> option no longer warns about dead code guarded by a  configuration value. <a href="http://reviews.llvm.org/rL202912">r202912</a>.</p></li><li><p>The MSVC mangling scheme is not used for statics or types which aren't  visible. <a href="http://reviews.llvm.org/rL202951">r202951</a>.</p></li></ul><h3>Other project commits</h3><ul><li><p>LLDB now supported JIT debugging on Linux using the GDB JIT interface. <a href="http://reviews.llvm.org/rL202956">r202956</a>.</p></li><li><p>Polly started emitting llvm.loop metadata for parallel loops. <a href="http://reviews.llvm.org/rL202854">r202854</a>.</p></li><li><p>In compiler-rt, assembler implementations of <code>__sync_fetch_and_*</code> for ARM  were committed. <a href="http://reviews.llvm.org/rL202812">r202812</a>.</p></li><li><p>The level of windows support in LLD has been documented. <a href="http://reviews.llvm.org/rL203017">r203017</a>.</p></li></ul>
