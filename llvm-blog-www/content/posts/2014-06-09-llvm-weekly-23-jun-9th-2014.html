---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-5893268364255566977
blogger_orig_url: http://blog.llvm.org/2014/06/llvm-weekly-23-jun-9th-2014.html
date: "2014-06-09T04:24:00Z"
modified_time: "2014-06-09T06:37:26.148-07:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #23, Jun 9th 2014'
aliases:
 - /2014/06/llvm-weekly-23-jun-9th-2014.html
---

<p>Welcome to the twenty-third issue of LLVM Weekly, a weekly newsletter  (published every Monday) covering developments in LLVM, Clang, and related  projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex Bradbury</a>. Subscribe to future issues at <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone  else you think may be interested. Please send any tips or feedback to  <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p> <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/23">can be found here at llvmweekly.org</a>. </p>  <a name='more'></a> <h3>News and articles from around the web</h3><p>Philip Reames has <a href="http://www.philipreames.com/Blog/2014/06/04/code-for-late-safepoint-placement-available/">announced that code for late safepoint placement is now  available</a>.<br />This is a set of patches to LLVM from Azul Systems that aim to support precise  relocating garbage collection in LLVM. Phlip has a long list of questions  where he is seeking feedback from the community on how to move forwards with  these patches. There's not been much response so far, hopefully it will come  soon as I know there are many communities who are very interested in seeing  better GC support in LLVM (e.g. Rust, Ocaml).</p><p>The biggest LLVM news this week is of course the announcement of <a href="https://developer.apple.com/swift/">the Swift  programming language</a> from Apple. Its  development was led by Chris Lattner, original author of LLVM. He has some  more info about Swift <a href="https://developer.apple.com/swift/">on his website</a>. There is no source release as of yet, and <a href="http://article.gmane.org/gmane.comp.compilers.clang.user/493">no  indication</a> from  Apple as to whether it will remain proprietary. Either way, it's an  interesting development. Chris Lattner is now on Twitter and has been <a href="https://twitter.com/clattner_llvm/status/474411823223959552">passing out tidbits about the Swift implementation</a>.</p><p>LunarG have <a href="http://lunarg.com/glassymesa/">announced the Glassy Mesa  project</a>. This project, funded by Valve, will  explore increasing game performance in Mesa through improvements in the shader  compiler. The current parser and optimisation layer are replaced with glslang  and the LLVM-based LunarGlass. More technical details are <a href="http://media.lunarg.com/wp-content/uploads/2014/06/GlassyMesaSlides-05Jun2014.pdf">available in the  slide  deck</a>.</p><p>Sébastien Métrot has released <a href="https://github.com/meeloo/xspray">xspray</a>, a  frontend for lldb on OS X. One of its interesting features is the inbuilt  support for plotting your data.</p><p>With all the LLVM news recently, it seems <a href="http://www.google.com/trends/explore#q=llvm">search traffic for 'llvm' has  skyrocketed</a>.</p><h3>On the mailing lists</h3><ul><li><p>Zachary Tuner has started a discussion on <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73604">multi-threading and mutexes in  LLVM</a>,  following from his patches (currently in review) that tries to replace LLVM's  own mutex implementation with <code>std::mutex</code> and <code>std::recursive_mutex</code>. The key  questions are whether multi-threading should be a compile-time or tunetime  parameter, what should happen if you attempt to acquire a mutex in an app with  threading disabled, and whether debugging code for finding deadlocks should be  included.</p></li><li><p>Sean Silva queries <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73597">whether stack maps should be marked as stable in LLVM  3.5</a> given  that the feature now has a number of users, including WebKit. Andrew Trick  <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73599">suggests another round of  RFC</a> before  this, and intends to submit another proposal in the coming week.</p></li><li><p>Gerolf Hoflehner is <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73502">asking for feedback on his proposed instruction  combiner  pass</a>. This  would run at the machine IR level and aims to overcome some of the  deficiencies observed when combining instructions at the ISEL level.</p></li><li><p>A question has arisen over <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73465">whether LLVM 3.3/3.4 IR is backward compatible  with 3.2</a>. This isn't a form of compatibility that LLVM offers, though Stephen Hines  notes that <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73563">Android maintains an LLVM 3.2 bitcode  writer</a>.</p></li><li><p>Quite some time ago, Dennis Luehring drew attention to <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/31855">a case where the GCC  optimiser seems to do better than  Clang</a>. Benjamin Kramer and Richard Smith both submitted patches which <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/37067">now results in  Clang acing this  testcase</a>.</p></li></ul><h3>LLVM commits</h3><ul><li><p>The jumptable attribute has been introduced. If you mark a function with  this attribute, references to it can be rewritten with a reference to the  appropriate jump-instruction-table function pointer. <a href="http://reviews.llvm.org/rL210280">r210280</a>.</p></li><li><p>Support was added for Windows ARM exception handling data structures,  including decoding them. <a href="http://reviews.llvm.org/rL209998">r209998</a>,  <a href="http://reviews.llvm.org/rL210192">r210192</a>.</p></li><li><p>GlobalAlias can now point to an arbitrary ConstantExpression. See the commit  message for a discussion of the consequences of this. <a href="http://reviews.llvm.org/rL210062">r210062</a>.</p></li><li><p>The subword level parallelism (SLP) vectorizer has been extended to support  vectorization of getelementptr expressions. <a href="http://reviews.llvm.org/rL210342">r210342</a>.</p></li><li><p>The LLVM programmer's manual has been improved with an example of using  IRBuilder. <a href="http://reviews.llvm.org/rL210354">r210354</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>Semantic analysis to make sure a loop is in OpenMP canonical form has been  committed. <a href="http://reviews.llvm.org/rL210095">r210095</a>.</p></li><li><p><code>__builtin_operator_new</code> and <code>__builtin_operator_delete</code> have been added. Some optimisations are allowed on these which would not be on <code>::operator new</code>  and are intended for the implementation of things like std::allocator. <a href="http://reviews.llvm.org/rL210137">r210137</a>.</p></li><li><p>New pragmas have been introduced to give optimisation hints for  vectorization and interleaving. You can now use <code>#pragma clang loop  vectorize(enable)</code> as well as <code>vectorize(disable)</code>, <code>vectorize_width(n)</code>,  <code>interleave(enable/disable)</code>, and <code>interleave_count(n)</code>. <a href="http://reviews.llvm.org/rL210330">r210330</a>.</p></li><li><p>Support for the MSVC++ ABI continues with the addition of <code>dynamic_cast</code> for  MS. <a href="http://reviews.llvm.org/rL210377">r210377</a>.</p></li><li><p>Support for global named registers has been expanded slightly to allow  pointer types to be held in these variables. <a href="http://reviews.llvm.org/rL210274">r210274</a>.</p></li><li><p>GCC's <code>-Wframe-larger-than=bytes</code> diagnostic is now supported. <a href="http://reviews.llvm.org/rL210293">r210293</a>.</p></li></ul><h3>Other project commits</h3><ul><li><p>A benchmarking-only mode has been added to the testsuite  <a href="http://reviews.llvm.org/rL210251">r210251</a>.</p></li><li><p>A <a href="http://libcxx.llvm.org/ts1z_status.html">status page</a> for post-C++14  features in libcxx has been added. <a href="http://reviews.llvm.org/rL210056">r210056</a>.</p></li><li><p>An initial set of Makefiles has been committed to lld. <a href="http://reviews.llvm.org/rL210177">r210177</a>.</p></li><li><p>lldb gained support for inspecting enum members. <a href="http://reviews.llvm.org/rL210046">r210046</a>.</p></li><li><p>Polly can now be built without any GPLed software. <a href="http://reviews.llvm.org/rL210176">r210176</a>.</p></li></ul>
