---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-7272016599581958197
blogger_orig_url: http://blog.llvm.org/2014/06/llvm-weekly-24-jun-16th-2014.html
date: "2014-06-16T04:54:00Z"
modified_time: "2014-06-23T03:33:14.104-07:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #24, Jun 16th 2014'
aliases:
 - /2014/06/llvm-weekly-24-jun-16th-2014.html
---

<p>Welcome to the twenty-fourth issue of LLVM Weekly, a weekly newsletter  (published every Monday) covering developments in LLVM, Clang, and related  projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex Bradbury</a>. Subscribe to future issues at <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone  else you think may be interested. Please send any tips or feedback to  <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p> <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/24">can be found here at llvmweekly.org</a>. </p>  <a name='more'></a> <h3>News and articles from around the web</h3><ul><li><p>Philip Reames has written another blog post about the support for precise  relocating GC he has been working on with his colleagues. In this post, he  <a href="http://www.philipreames.com/Blog/2014/06/12/ir-restrictions-for-late-safepoint-placement/">describes the IR restrictions for late safepoint  placement</a>.</p></li><li><p>Videos from this year's EuroLLVM conference are <a href="http://llvm.org/devmtg/2014-04/">now  available</a>. Enjoy!</p></li><li><p>Evan Swick has written a <a href="http://www.eswick.com/2014/06/inside-swift/">blog post about Swift  internals</a> using information  gleaned from reverse engineering Swift binaries and the runtime.</p></li><li><p>The next Paris LLVM social will <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73838">take place on June  23rd</a>.</p></li><li><p>The next Cambridge LLVM Social will <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73717">take place on the 25th of  June</a>.</p></li></ul><h3>On the mailing lists</h3><ul><li><p>George Burgess has posted to the list to <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73724">announce he'll be interning with  Google and working on a new alias analysis algorithm for  LLVM</a>. He will  be implementing an algorithm based on <a href="http://www.cse.cuhk.edu.hk/lyu/_media/paper/pldi2013.pdf">this paper</a>. His  full proposal is <a href="https://docs.google.com/document/d/1nGFKMmr-HbdEiag9G1GeWurgOV0CweSUjLXFr3LAwqg/edit">available  here</a>.</p></li><li><p>Tim Northover has written an <a href="http://article.gmane.org/gmane.comp.compilers.llvm.cvs/192081">RFC on adding cmpxchg weak to the LLVM  IR</a>. This seems  to have been rapidly accepted as patches were commited this week.</p></li><li><p>Mark Tullsen is working on a tool that allows programmers to write custom  program properties in a high level DSL. They are using libclang but are  <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/37229">missing the ability to perform transformations on the  AST</a>. David  Chisnall gives a good <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/37236">motivation for why AST transformations are not  supported</a>.</p></li><li><p>Apple are <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73730">advertising for engineers to join their Swift  team</a>. This  started a discussion about what the rules about job postings to the LLVM list  should be and also elicited <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/37217">another response from Chris Lattner on whether  Swift will be  open-sourced</a>. "You can imagine that many of us want it to be open source and part of llvm,  but the discussion hasn't happened yet, and won't for some time."</p></li><li><p>Alp Toker has <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73768">announced to those using  LLVM</a> that the  llvm/Config/config.h header is becoming internal to the LLVM source tree. Out-of-tree LLVM-based projects should be updated.</p></li><li><p>Tom Stellard has <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/73721">announced to the  list</a> that  <code>setOperationAction(ISD::SELECT_CC, MVT::Other, Expand)</code> is no longer  supported and you must explicitly set the <code>SELECT_CC</code> operations for each  supported type.</p></li><li><p>A <a href="http://article.gmane.org/gmane.comp.compilers.clang.devel/37258">pre-reminder for LLVM  3.5</a>. The  process will be starting in mid-July (more details to come later).</p></li></ul><h3>LLVM commits</h3><ul><li><p>A weak variant of cmpxchg has been added to the LLVM IR, as has been <a href="http://article.gmane.org/gmane.comp.compilers.llvm.cvs/192081">argued  for</a> on the  mailing list. Weak cmpxchg allows failure and the operation returns <code>{iN, i1}</code>  (in fact, for uniformity all cmpxchg instructions do this now). According to  the commit message, this change will mean legacy assembly IR files will be  invalid but legacy bitcode files will be upgraded during read. <a href="http://reviews.llvm.org/rL210903">r210903</a>.</p></li><li><p>X86 FastISel gained support for handling a bunch more intrinsics. <a href="http://reviews.llvm.org/rL210709">r210709</a>,  <a href="http://reviews.llvm.org/rL210720">r210720</a> and more. FastISel also saw some  target-independent improvements <a href="http://reviews.llvm.org/rL210742">r210742</a>.</p></li><li><p>This week there were many updates to the MIPS backend for mips32r6/mips64r6. e.g. <a href="http://reviews.llvm.org/rL210899">r210899</a>,  <a href="http://reviews.llvm.org/rL210784">r210784</a> and many more.</p></li><li><p>NoSignedWrap, NoUnsignedWrap and Exact flags are now exposed to the  SelectionDAG. <a href="http://reviews.llvm.org/rL210467">r210467</a>.</p></li><li><p>Support has been added for variable length arrays on the Windows on ARM  Itanium ABI. <a href="http://reviews.llvm.org/rL210489">r201489</a>.</p></li><li><p>Some simple reordering of fields in Value and User saves 8 bytes of padding  on 64-bit. <a href="http://reviews.llvm.org/rL210501">r210501</a>.</p></li><li><p>FastISel will now collect statistics on when it fails with intrinsics. <a href="http://reviews.llvm.org/rL210556">r210556</a>.</p></li><li><p>The MIPS backend gained support for jr.hb and jalr.hb (jump register with  hazard barrier, jump and link register with hazard barrier). <a href="http://reviews.llvm.org/rL210654">r210654</a>.</p></li><li><p>AArch64 gained a basic schedule model for the Cortex-A57. <a href="http://reviews.llvm.org/rL210705">r210705</a>.</p></li><li><p>LLVM has transitioned to using <code>std::error_code</code> instead of  <code>llvm::error_code</code>. <a href="http://reviews.llvm.org/rL210687">r210687</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>The <code>-Wdate-time</code> preprocessor warning from GCC has been implemented. This  is useful when trying to create reproducible builds. <a href="http://reviews.llvm.org/rL210511">r210511</a>.</p></li><li><p>Loop unroll pragma support was added. <a href="http://reviews.llvm.org/rL210667">r210667</a>.</p></li><li><p>Yet more progress has been made on MS ABI compatibility. e.g. <a href="http://reviews.llvm.org/rL210813">r210813</a>,  <a href="http://reviews.llvm.org/rL210637">r210637</a>.</p></li></ul><h3>Other project commits</h3><ul><li><p>libcxx gained an implementation of <code>string_view</code> as proposed in  <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4023.html">N4023</a>. <a href="http://reviews.llvm.org/rL210659">r210659</a>.</p></li><li><p>Some of the iOS8/OS X Yosemite specific lldb support has been merged. <a href="http://reviews.llvm.org/rL210874">r210874</a>.</p></li></ul>
