---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-4359090821289590646
blogger_orig_url: http://blog.llvm.org/2014/12/llvm-weekly-49-dec-8th-2014.html
date: "2014-12-08T08:14:00Z"
modified_time: "2014-12-15T03:27:28.733-08:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #49, Dec 8th 2014'
aliases:
 - /2014/12/llvm-weekly-49-dec-8th-2014.html
---

<p>Welcome to the forty-ninth issue of LLVM Weekly, a weekly newsletter  (published every Monday) covering developments in LLVM, Clang, and related  projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex  Bradbury</a>. Subscribe to future issues at  <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone else you think may be  interested. Please send any tips or feedback to <a    href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>,  or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a    href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p> <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/49">can be found here at llvmweekly.org</a>. </p>  <a name='more'></a>  <h3>News and articles from around the web</h3><p>Most of the 2014 LLVM Developers' Meeting videos and slides are <a href="http://llvm.org/devmtg/2014-10/index.html">now  online</a>. Sadly, there are no videos  from the talks by Apple employees yet. Hopefully they'll be appearing later.</p><p>QuarksLab has a rather nice write-up of <a href="http://blog.quarkslab.com/deobfuscation-recovering-an-ollvm-protected-program.html">deobfuscating an OLLVM-protected  program</a>.</p><p>The LLVM-based ELLCC has been making progress on <a href="http://ellcc.org/blog/?p=22979">ELK, a bare-metal POSIX-like  environment</a>.</p><p>Support for statepoints landed in LLVM this week, and Philip Reames has a blog  post detailing <a href="http://www.philipreames.com/Blog/2014/12/04/statepoint-patches-have-landed/">some notes and  caveats</a>. See also the mailing list discussion linked to below about future plans for GC  in LLVM.</p><h3>On the mailing lists</h3><ul><li><p>Sami Liedes <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/79491">shares his workflow for using afl-fuzz with the Clang test  suite</a>. In 11  hours of testing he managed to find 34 distinct assertion failures and at  least one segmentation fault.</p></li><li><p>Duncan P.N. Exon Smith has <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/79437">shared an updated on his work on the  metadata-value  split</a>,  detailing the new semantic restrictions this will entail.</p></li><li><p>Philip Reames has a post <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/79435">detailing his future plans for GC in  LLVM</a>. Comments are invited. The aim is to eventually delete the existing gcroot  lowering code. If you are actively using this, please do speak up.</p></li><li><p>John Yates, who worked on the compiler for the Apollo Computer's DN10K has  <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/79416">shared a description of how that compiler would have handled one of the  recent examples from the Souper  work</a>.</p></li><li><p>How can you reproduce Clang's <code>-O3</code> using <code>opt</code>? The  <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/79367">answer</a>,  thanks for Tobias Grosser, is <code>clang -O3 -mllvm -disable-llvm-optzns</code> followed  by <code>opt -O3</code>.</p></li><li><p>Tobias Grosser is seeking community feedback on <a href="http://article.gmane.org/gmane.comp.compilers.llvm.devel/79366">where in the pipeline the  Polly loop optimiser should  run</a>. The post  is well worth a read for the discussion of expected trade-offs.</p></li><li><p>Rafael Esp√≠ndola has been working on type merging during LTO and ultimately  <a href="http://article.gmane.org/gmane.comp.compilers.llvm.cvs/218148">proposes moving to a single pointer type in LLVM  IR</a>. There  seems to be positive feedback on the idea, given that pointer types don't  convey useful information to the optimizer and don't really provide safety.</p></li></ul><h3>LLVM commits</h3><ul><li><p>The statepoint infrastructure for garbage collection has landed. See the  final patch in the series for documentation. <a href="http://reviews.llvm.org/rL223078">r223078</a>,  <a href="http://reviews.llvm.org/rL223085">r223085</a>,  <a href="http://reviews.llvm.org/rL223137">r223137</a>,  <a href="http://reviews.llvm.org/rL223143">r223143</a>.</p></li><li><p>The LLVM assembler gained support for ARM's funky modified-immediate  assembly syntax. <a href="http://reviews.llvm.org/rL223113">r223113</a>.</p></li><li><p>The OCaml bindings now has a CMake buildsystem. <a href="http://reviews.llvm.org/rL223071">r223071</a>.</p></li><li><p>The PowerPC backend gained support for readcyclecounter on PPC32. <a href="http://reviews.llvm.org/rL223161">r223161</a>.</p></li><li><p>Support for 'prologue' metadata on functions has been added. This can be  used for inserting arbitrary code at a function entrypoint. This was  previously known as prefix data, and that term has been recycled to be used  for inserting data just before the function entrypoint. <a href="http://reviews.llvm.org/rL223189">r223189</a>.</p></li><li><p>PowerPC gained a Power8 instruction schedule definition <a href="http://reviews.llvm.org/rL223257">r223257</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>LLVM IR for vtable addresses now uses the type of the field being pointed  to, to enable more optimisations. <a href="http://reviews.llvm.org/rL223267">r223267</a>.</p></li><li><p>New attributes have been added to specify AMDGPU register limits. This is a  performance hint that can be used to attempt to limit the number of used  registers. <a href="http://reviews.llvm.org/rL223384">r223384</a>.</p></li><li><p>Clang gained the <code>__has_declspec_attribute</code> preprocessor macro. <a href="http://reviews.llvm.org/rL223467">r223467</a>.</p></li><li><p><code>__has_attribute</code> now only looks for GNU-style attributes. You should be  able to use <code>__has_cpp_atribute</code> or <code>__has_declspec_attribute</code> instead. <a href="http://reviews.llvm.org/rL223468">r223468</a>.</p></li></ul><h3>Other project commits</h3><ul><li><p>DataFlowSanitizer is now supported for MIPS64. <a href="http://reviews.llvm.org/rL223517">r223517</a>.</p></li><li><p>libcxx now supported <code>std::random_device</code> on (P)NaCl. <a href="http://reviews.llvm.org/rL223068">r223068</a>.</p></li><li><p>An effort has started in lld to reduce abstraction around InputGraph, which  has been found to get in the way of new features due to excessive information  hiding. <a href="http://reviews.llvm.org/rL223330">r223330</a>. The commit has been  temporarily reverted due to breakage on Darwin and ELF.</p></li><li><p>A large chunk of necessary code for Clang module support has been added to  LLDB. <a href="http://reviews.llvm.org/rL223433">r223433</a>.</p></li><li><p>LLDB now has <a href="http://lldb.llvm.org/lldb-coding-conventions.html">documented coding  conventions</a>. <a href="http://reviews.llvm.org/rL223543">r223543</a>.</p></li></ul>
