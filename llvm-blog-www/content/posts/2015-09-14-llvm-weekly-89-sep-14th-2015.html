---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-6696202765514218586
blogger_orig_url: http://blog.llvm.org/2015/09/llvm-weekly-89-sep-14th-2015.html
date: "2015-09-14T08:03:00Z"
modified_time: "2015-09-14T08:03:16.746-07:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #89, Sep 14th 2015'
---

<p>Welcome to the eighty-ninth issue of LLVM Weekly, a weekly newsletter  (published every Monday) covering developments in LLVM, Clang, and related  projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex  Bradbury</a>. Subscribe to future issues at  <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone else you think may be  interested. Please send any tips or feedback to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a    href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p>  <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/89">can be found here at llvmweekly.org</a>. </p> <a name='more'></a> <h3>News and articles from around the web</h3><p>I didn't spot any new LLVM-related articles or news this week. As a reminder,  I always welcome tips either via email or Twitter. Seeing as there's nothing  new, now seems a good time to point you towards either Stephen Diehl's  tutorial on <a href="http://www.stephendiehl.com/llvm/">implementing a JIT compiled language with Haskell and  LLVM</a> or Adrian Sampson's <a href="http://adriansampson.net/blog/llvm.html">'LLVM for grad  students'</a>.</p><h3>On the mailing lists</h3><ul><li><p>James Knight is proposing to <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-September/090300.html">deprecate and remove the old SelectionDAG  scheduler</a>,  given that machine schedulers are now the preferred approach. He notes that a  number of in-tree targets still use the SelectionDAG scheduler. It seems there  is <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-September/090309.html">support for this  plan</a>.</p></li><li><p>Jauhien is curious about the <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-September/090120.html">availability of a C API for the ORC  JIT</a>,  with the motivating use case here being to provide a binding for Rust. The  <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-September/090155.html">main  concern</a>  is that the ORC API is not yet stable, meaning it's not feasible to provide  stable C bindings. The proposal is they live in llvm/include/llvm-c/unstable.</p></li><li><p>Joseph Tremoulet has a whole bunch of questions about addrspacecast  semantics, and Chandler Carruth has <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-September/090180.html">a whole bunch of  answers</a>.</p></li><li><p>David Chisnall has a <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-September/090240.html">useful  response</a>  to a question about implementing LLVM intrinsics with multiple return values. As he points out, this is usually done by returning a struct.</p></li></ul><h3>LLVM commits</h3><ul><li><p>A major modification of LLVM'a alias analysis manager has landed in order to  port it to the new pass manager. See the commit message for full details. <a href="http://reviews.llvm.org/rL247167">r247167</a>.</p></li><li><p>The scalar replacement of aggregates (SROA) pass has been ported to the new  pass manager. In the commit message, Chandler comments he hopes this serves as  a good example of porting a transformation pass with non-trivial state to the  new pass manager. <a href="http://reviews.llvm.org/rL247501">r247501</a>.</p></li><li><p>The GlobalsModRef alias analysis pass is now enabled by default. <a href="http://reviews.llvm.org/rL247264">r247264</a>.</p></li><li><p>Emacs users, rest your aching pinky fingers for a moment and rejoice. A  range of improvements for the Emacs LLVM IR mode have landed. <a href="http://reviews.llvm.org/rL247281">r247281</a>.</p></li><li><p>The AArch64 backend can now select STNP, the non-temporal store instruction  (this hints that the value need not be kept in cache). <a href="http://reviews.llvm.org/rL247231">r247231</a>.</p></li><li><p>Shrink wrapping optimisations are enabled on PPC64. <a href="http://reviews.llvm.org/rL247237">r247237</a>.</p></li><li><p>A whole bunch of StringRef functions have been sprinkled with the  <code>ALWAYS_INLINE</code> attribute so as to reduce the overhead of string operations  even on debug LLVM builds. Chandler has also been making other changes to  improve the performance of check-llvm with a debug build. <a href="http://reviews.llvm.org/rL247253">r247253</a>.</p></li><li><p>The LLVM performance tips document has been extended to detail the use of  allocas and when to specify alignment. <a href="http://reviews.llvm.org/rL247301">r247301</a>.</p></li><li><p>The <code>hasLoadLinkedStoreConditional</code> TargetLoweringInformation callback has  now been split in to <code>bool shouldExpandAtomicCmpXchgInIR(inst)</code> and  <code>AtomicExpansionKind shouldExpandAtomicLoadInIR(inst)</code>. <a href="http://reviews.llvm.org/rL247429">r247429</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>A new control-flow integrity variant has been introduced, indirect function  call chacking (enabled with <code>-fsanitize=cfi-icall</code>). This checks the dynamic  type of the called function matches the static type used at the call. <a href="http://reviews.llvm.org/rL247238">r247238</a>.</p></li><li><p>A new <code>-analyzer-config</code> option is available to modify the size of function  that the inliner considers as large. <a href="http://reviews.llvm.org/rL247463">r247463</a>.</p></li><li><p>Clang will now try much harder to preserve alignment information during  IR-generation. <a href="http://reviews.llvm.org/rL246985">r246985</a>.</p></li><li><p>The <code>__builtin_nontemporal_store</code> and <code>__builtin_nontemporal_load</code> builtins  have been introduced. <a href="http://reviews.llvm.org/rL247104">r247104</a>,  <a href="http://reviews.llvm.org/rL247374">r247374</a>.</p></li></ul><h3>Other project commits</h3><ul><li><p>libcxx gained implementations of Boyer-Moore and Boyer-Moore-Horspool  searchers (for the language fundamentals technical specification). <a href="http://reviews.llvm.org/rL247036">r247036</a>.</p></li><li><p>A trivial dynamic program linked with the new ELF lld now works with musl's  dynamic linker. <a href="http://reviews.llvm.org/rL247290">r247290</a>.</p></li><li><p>LLD's COFF linker learned to merge cyclic graphs, which means self-linking  now produces a 27.7MB rather than a 29.0MB executable. MSVC manages to produce  a 27.1MB executable, so there is still room for improvement. <a href="http://reviews.llvm.org/rL247387">r247387</a>.</p></li></ul>
