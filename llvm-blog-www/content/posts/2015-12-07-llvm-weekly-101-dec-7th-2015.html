---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-799711384218748632
blogger_orig_url: http://blog.llvm.org/2015/12/llvm-weekly-101-dec-7th-2015.html
date: "2015-12-07T03:52:00Z"
modified_time: "2015-12-07T03:52:41.859-08:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #101, Dec 7th 2015'
---

<p>Welcome to the one hundred and first issue of LLVM Weekly, a weekly newsletter  (published every Monday) covering developments in LLVM, Clang, and related  projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex  Bradbury</a>. Subscribe to future issues at  <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone else you think may be   interested. Please send any tips or feedback to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a    href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p>  <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/101">can be found here at llvmweekly.org</a>. </p> <a name='more'></a> <h3>News and articles from around the web</h3><p>The implementation of the Swift programming language is <a href="https://swift.org/blog/welcome/">now open  source</a>. Rather than being a simple code  dump, development will now occur out in the open with <a href="https://swift.org/contributing/">external contributions  encouraged</a>. If you haven't already, now  might be a good time to watch Joseph Groff and Chris Lattner's <a href="https://www.youtube.com/watch?v=Ntj8ab-5cvE">talk on the  Swift Intermediate Language</a>.</p><p>Rui Ueyama <a href="http://blog.llvm.org/2015/11/new-elf-linker-from-llvm-project.html">wrote about the new LLD ELF  linker</a> on  the official LLVM blog.</p><p>The Visual C++ team have released <a href="http://blogs.msdn.com/b/vcblog/archive/2015/12/04/introducing-clang-with-microsoft-codegen-in-vs-2015-update-1.aspx">Clang with Microsoft  CodeGen</a>. This uses the Clang parser along with the code generator and optimizer from  Visual C++. The majority of the Clang and LLVM changes will be contributed  back upstream.</p><p>Alex Denisov wrote about <a href="http://lowlevelbits.org/how-to-use-llvm-api-with-swift/">using the LLVM API with  Swift</a>.</p><p>If you haven't already submitted your talk proposal for the LLVM devroom at  FOSDEM, you've now got a little more time. <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/092897.html">Get your submission in by this  Friday</a>.</p><h3>On the mailing lists</h3><ul><li><p>Swift team members have started discussions about upstreaming their changes  to <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/093006.html">LLVM</a>,  <a href="http://lists.llvm.org/pipermail/cfe-dev/2015-December/046335.html">Clang</a>,  and  <a href="http://lists.llvm.org/pipermail/lldb-dev/2015-December/009010.html">LLDB</a>. The Clang changes include the addition of an 'API notes' feature which has  seen some interest from other developers. This can be used to associate  certain attributes with functions from system headers through an external YAML  file, which is of course much more pragmatic than expecting system headers on  all supported platforms to be updated.</p></li><li><p>Vaivaswatha Nagaraj observes that <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/092919.html">malloc and realloc don't have the  doesNotAccessMemory/onlyReadsMemory attributes  set</a>, and  that this makes GlobalsAA much less effective. As was pointed out in the  ensuing discussion, these attributes wouldn't be correct for malloc and  realloc but it would perhaps make sense to add a new attribute. Vaivaswatha  <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/093008.html">penned an RFC on an HasInaccessibleState  attribute</a>. This has generated a lot of discussion and alternate proposals but no  conclusion yet.</p></li><li><p>Christof Douma has posted an <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/093021.html">RFC on adding execute only support to the ARM  code  generator</a>. This means the compiler will not generate data accesses in to the code  section.</p></li><li><p>Oliver Stannard has posted an <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/093022.html">RFC on supporting position-independent code  on ARM for small embedded  systems</a>. In read-only position independence (ROPI), code and read-only data is accessed  PC-relative with the offsets known at static link time. In read-write position  independence (RWPI), read-write data is accessed relative to the static base  register (R9).</p></li><li><p>This week's bikeshedding thread is on <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/092876.html">the naming convention for LLVM  intrinsics</a>. The proposal is to standardise on using <code>.</code> as a separator. There are some  suggestions that <code>_</code> be allowed in words.</p></li><li><p>How can you recompile functions at different optimisation levels? Lang Hames  <a href="http://lists.llvm.org/pipermail/llvm-dev/2015-December/092945.html">provides a sample doing this using the Orc  API</a>.</p></li></ul><h3>LLVM commits</h3><ul><li><p>llc and opt gained an option to run all passes twice. This is intended to  help show up bugs that occur when using the same pass manager to compile  multiple modules. <a href="http://reviews.llvm.org/rL254774">r254774</a>.</p></li><li><p>An initial prototype for llvm-dwp has been committed. This will eventually  be a tool for building a DWARF package file out of a number of .dwo split  debug files. <a href="http://reviews.llvm.org/rL254355">r254355</a>.</p></li><li><p>All weight-based interfaces in MachineBasicBlock have now been replaced with  probability-based interfaces. <a href="http://reviews.llvm.org/rL254377">r254377</a>.</p></li><li><p>LLVM's STLExtras gained a range-based version of <code>std::any_of</code> and  <code>std::find</code>. <a href="http://reviews.llvm.org/rL254391">r254391</a>,  <a href="http://reviews.llvm.org/rL254390">r254390</a>.</p></li><li><p><code>llvm.get.dynamic.area.offset.{i32,264}</code> intrinsics have been added. These  can be used to get the address of the most recent dynamic alloca. <a href="http://reviews.llvm.org/rL254404">r254404</a>.</p></li><li><p>The X86 backend gained a new pass to reduce code size by removing redundant  address recalculations for LEA. <a href="http://reviews.llvm.org/rL254712">r254712</a>.</p></li><li><p>The WebAssembly backend now has initial support for varargs. <a href="http://reviews.llvm.org/rL254799">r254799</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>Design docs have been added for forward-edge CFI for indirect calls. <a href="http://reviews.llvm.org/rL254464">r254464</a>.</p></li><li><p>The <code>pass_object_size</code> attribute was added to Clang. This intended to be  used to work around cases where <code>__builtin_object_size</code> doesn't function. <a href="http://reviews.llvm.org/rL254554">r254554</a>.</p></li><li><p>Documentation was added for UndefinedBehaviorSanitizer. <a href="http://reviews.llvm.org/rL254733">r254733</a>.</p></li></ul><h3>Other project commits</h3><ul><li><p>LLD now supports the <code>R_MIPS_HI16/LO16</code> relocations. <a href="http://reviews.llvm.org/rL254461">r254461</a>.</p></li><li><p>libomp can now make use of libhwloc on Unix to discover topology of the host  system. <a href="http://reviews.llvm.org/rL254320">r254320</a>.</p></li></ul>
