---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-6529446834968718778
blogger_orig_url: http://blog.llvm.org/2016/02/llvm-weekly-112-feb-22nd-2016.html
date: "2016-02-22T03:29:00Z"
modified_time: "2016-02-22T03:29:26.354-08:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #112, Feb 22nd 2016'
aliases:
 - /2016/02/llvm-weekly-112-feb-22nd-2016.html
---

<p>Welcome to the one hundred and twelfth issue of LLVM Weekly, a weekly  newsletter (published every Monday) covering developments in LLVM, Clang, and  related projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex  Bradbury</a>. Subscribe to future issues at  <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone else you think may be   interested. Please send any tips or feedback to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a    href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p>  <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/112">can be found here at llvmweekly.org</a>. </p> <a name='more'></a> <h3>News and articles from around the web</h3><p>Filip Pizlo has written a <a href="https://webkit.org/blog/5852/introducing-the-b3-jit-compiler/">fantastic  article</a>  introducing the new B3 JIT compiler for WebKit's JavaScriptCore. This intends  to replace LLVM as the optimising backend to their fourth-tier JIT. The  article describes in detail their reasons for moving away from LLVM (mainly  compile-time) and the design trade-offs made, such as in reducing memory  allocations and minimising pointer-chasing in the IR. This reminds me of the  trade-offs Mike Pall made in the <a href="http://wiki.luajit.org/SSA-IR-2.0">LuaJIT 2.0 IR</a>. Philip Reames also shared <a href="http://www.philipreames.com/Blog/2016/02/15/quick-thoughts-on-webkits-b3/">some  initial thoughts on  B3</a>. I know some people have expressed disappointment about WebKit moving away from  LLVM, but if you'll allow me to insert just a little bit of editorial I'd  argue B3 is a very positive development for LLVM and the wider compiler  community. B3 explores a different set of design trade-offs to those chosen  for LLVM, and these sort of changes are probably easiest to explore in a fresh  codebase.Thanks to this write-up (and hopefully future B3/AIR  documentation), we can learn from the B3 developers' experiences and consider  if some of their choices will make sense for LLVM. It's also good to remember  that LLVM isn't the only feasible route for code generation and optimisation,  and we shouldn't treat LLVM's design choices as the one-true way to do things. Impressively, B3 was developed to its current state in only <a href="https://news.ycombinator.com/item?id=11104604">6 months of  developer-time</a>.</p><p>Version 0.17.0 of LDC, the LLVM-based compiler for the D programming language  has <a href="http://forum.dlang.org/thread/cqgwucbznngoiesvbmlk@forum.dlang.org">been  released</a>. You can view a <a href="https://github.com/ldc-developers/ldc/releases/tag/v0.17.0">detailed changelog  here</a>.</p><p>GCC6 will feature a whole bunch of new warnings, and <a href="https://gnu.wildebeest.org/blog/mjw/2016/02/15/looking-forward-to-gcc6-many-new-warnings/">this blog  post</a>  details many of them.</p><p>The schedule for <a href="http://www.llvm.org/devmtg/2016-03/">EuroLLVM 2016</a> has now  been posted. This will be held March 17th-18th in Barcelona.</p><h3>On the mailing lists</h3><ul><li><p>Bob Wilson proposes that format-security warnings in Clang <a href="http://lists.llvm.org/pipermail/cfe-dev/2016-February/047367.html">default to  error</a>. Nico Weber posted a handy <a href="http://lists.llvm.org/pipermail/cfe-dev/2016-February/047438.html">summary of the  thread</a>.</p></li><li><p>Sanjoy Das has posted an <a href="http://lists.llvm.org/pipermail/llvm-dev/2016-February/095523.html">RFC on adding guard intrinsics to  LLVM</a>. These would be used in a similar way to the Check opcode in WebKit's new B3  compiler.</p></li><li><p>Alina Sbirlea proposes adding <a href="http://lists.llvm.org/pipermail/llvm-dev/2016-February/095557.html">bitcode tests to the LLVM  test-suite</a>. Hal Finkel suggests going further and just <a href="http://lists.llvm.org/pipermail/llvm-dev/2016-February/095562.html">pulling Halide in to the LLVM  test-suite</a>  as a front-end example that should provide greater test coverage.</p></li><li><p>Andrew Trick shared some <a href="http://lists.llvm.org/pipermail/llvm-dev/2016-February/095463.html">thoughts on LLVM in light of the WebKit B3  announcement</a>. "Even when LLVM's compile time problems are largely solved, and I believe they  can be, there will always be systemic compile time and memory overhead from  design decisions that achieve generality, flexibility, and layering. These are  software engineering tradeoffs."</p></li></ul><h3>LLVM commits</h3><ul><li><p>The PPCLoopDataPrefetch pass has been moved to  Transforms/Scalar/LoopDataPrefetch in preparation for it becoming a  target-agnostic pass. <a href="http://reviews.llvm.org/rL261265">r261265</a>.</p></li><li><p>The cmpxchg LLVM instruction now allows pointer type operands. <a href="http://reviews.llvm.org/rL261281">r261281</a>.</p></li><li><p>The X86 backend gained support for a new stack symbol ordering optimisation. This is primarily intended to reduce code size, and produces small but  measurable improvements across some SPEC CPU 2000 benchmarks. <a href="http://reviews.llvm.org/rL260917">r260917</a>.</p></li><li><p>The LLVM C API has been extended to allow it to be used to manipulate the  datalayout. <a href="http://reviews.llvm.org/rL260936">r260936</a>.</p></li><li><p>Some major work on the LazyCallGraph has been checked in. <a href="http://reviews.llvm.org/rL261040">r261040</a>.</p></li><li><p>The AMDGPU backend gained a basic disassembler. <a href="http://reviews.llvm.org/rL261185">r261185</a>.</p></li><li><p>The PostOrderFuctionAttrs pass has been ported to the new pass manager. As  described in the commit message, this actually represents a major milestone. <a href="http://reviews.llvm.org/rL261203">r261203</a>.</p></li><li><p>The Hexagon backend gained support for thread-local storage. <a href="http://reviews.llvm.org/rL261218">r261218</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>A nullPointerConstant AST matcher was added. <a href="http://reviews.llvm.org/rL261008">r261008</a>.</p></li><li><p>Clang gained a <code>-Wcomma</code> warning, which will warn for most uses of the  builtin comma operator. <a href="http://reviews.llvm.org/rL261278">r261278</a></p></li></ul><h3>Other project commits</h3><ul><li><p>LLD has sprouted a release notes document. <a href="http://reviews.llvm.org/rL260960">r260960</a>.</p></li><li><p>The LLVM test-suite's CMake build system saw a number of fixes for SPEC. <a href="http://reviews.llvm.org/rL261470">r261470</a>.</p></li></ul>
