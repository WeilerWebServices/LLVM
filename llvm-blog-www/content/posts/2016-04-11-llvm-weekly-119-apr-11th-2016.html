---
author: Unknown
blogger_id: tag:blogger.com,1999:blog-6088150582281556517.post-8100728899527168177
blogger_orig_url: http://blog.llvm.org/2016/04/llvm-weekly-119-apr-11th-2016.html
date: "2016-04-11T06:03:00Z"
modified_time: "2016-04-11T06:03:00.749-07:00"
tags: ["llvmweekly"]
title: 'LLVM Weekly - #119, Apr 11th 2016'
aliases:
 - /2016/04/llvm-weekly-119-apr-11th-2016.html
---

<p>Welcome to the one hundred and nineteenth issue of LLVM Weekly, a weekly  newsletter (published every Monday) covering developments in LLVM, Clang, and  related projects. LLVM Weekly is brought to you by <a href="http://asbradbury.org">Alex  Bradbury</a>. Subscribe to future issues at  <a href="http://llvmweekly.org">http://llvmweekly.org</a> and pass it on to anyone else you think may be   interested. Please send any tips or feedback to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;">&#97;&#115;&#98;&#64;&#97;&#115;&#98;&#114;&#97;&#100;&#98;&#117;&#114;&#121;&#46;&#111;&#114;&#103;</a>, or <a href="https://twitter.com/llvmweekly">@llvmweekly</a> or <a    href="https://twitter.com/asbradbury">@asbradbury</a> on Twitter.</p>  <p>The canonical home for this issue <a href="http://llvmweekly.org/issue/119">can be found here at llvmweekly.org</a>. </p> <a name='more'></a> <h3>News and articles from around the web</h3><p>Last week the slides from the <a href="http://llvm.org/devmtg/2016-03/">recent EuroLLVM 2016 Developers'  Meeting</a> made it online. This week this has  been followed by <a href="https://www.youtube.com/playlist?list=PL_R5A0lGi1ADuZKWUJOVOgXr2dRW06e55">videos of the talks from the conference</a>.</p><p>John Regehr has written about <a href="http://blog.regehr.org/archives/1384">efficient integer overflow checking in  LLVM</a>, looking at cases where LLVM can  and cannot remove unnecessary overflow checks, and how this might be improved.</p><p>Version 0.13 of Pocl, the portable OpenCL implementation <a href="http://lists.llvm.org/pipermail/llvm-dev/2016-April/097953.html">has been  released</a>. This release works with LLVM/Clang 3.8 and 3.7, and adds initial OpenCL 2.0  support and improved HSA support.</p><p>Serge Guelton at QuarksLab has written up a really useful guide to  <a href="http://blog.quarkslab.com/implementing-a-custom-directive-handler-in-clang.html">implementing a custom directive handler in  Clang</a>.</p><p>Microsoft's Visual C++ team are <a href="https://blogs.msdn.microsoft.com/vcblog/2016/04/06/clangc2-we-need-your-advice/">looking for feedback on  Clang/C2</a>  (Clang with Microsoft CodeGen).</p><h3>On the mailing lists</h3><ul><li><p>James Molloy has posted an RFC on adding support for <a href="http://lists.llvm.org/pipermail/llvm-dev/2016-April/097936.html">constant folding calls  to math.h functions on long  doubles</a>. Currently these functions aren't constant-folded as the internal APFloat class  doesn't implement them and long double operations aren't portable. Solutions  include adding support to APFloat, linking against libMPFR to provide  compile-time evaluation, or recognising when the long double format of the  host and target are the same, so the host math library can be called. From the  responses so far, there seems to be some push-back on adding the libMPFR  dependency.</p></li><li><p>Sanjoy Das has an RFC on <a href="http://lists.llvm.org/pipermail/llvm-dev/2016-April/098034.html">adding a patchable-prologue  attribute</a>. This would be used to indicate that the function's prologue is compiled so as  to provide support for easy hot-patching.</p></li><li><p>Ulrich Weigand has shared a patch for <a href="http://lists.llvm.org/pipermail/lldb-dev/2016-April/010067.html">supporting LLDB on Linux on  SystemZ</a>. The  patchset contains many big-endian fixes, and may be of interest to others  looking at porting LLDB.</p></li></ul><h3>LLVM commits</h3><ul><li><p>The Swift calling convention as well as support for the 'swifterror'  argument has been added. <a href="http://reviews.llvm.org/rL265433">r265433</a>,  <a href="http://reviews.llvm.org/rL265480">r265480</a>.</p></li><li><p>Work on GlobalISel continues with many commits related to the assignment of  virtual registers to register banks. <a href="http://reviews.llvm.org/rL265445">r265445</a>,  <a href="http://reviews.llvm.org/rL265440">r265440</a>.</p></li><li><p>LLVM will no longer perform inter-procedural optimisation over functions  that can be "de-refined". <a href="http://reviews.llvm.org/rL265762">r265762</a>.</p></li><li><p>The substitutions supported by lit are now documented. <a href="http://reviews.llvm.org/rL265314">r265314</a>.</p></li><li><p>Unrolled loops now execute the remainder in an epilogue rather than the  prologue. This should produce slightly improved code. <a href="http://reviews.llvm.org/rL265388">r265388</a>.</p></li></ul><h3>Clang commits</h3><ul><li><p>Clang gained necessary support for the Swift calling convention. <a href="http://reviews.llvm.org/rL265324">r265324</a>.</p></li><li><p>New flags <code>-fno-jump-tables</code> and <code>-fjump-tables</code> can be used to  disable/enable support for jump tables when lowering switch statements. <a href="http://reviews.llvm.org/rL265425">r265425</a>.</p></li><li><p>TargetOptions is now passed through all the TargetInfo constructors. This  will allow target information to be modified based on the ABI selected. <a href="http://reviews.llvm.org/rL265640">r265640</a>.</p></li><li><p>A large number of intrinsics from emmintrin.h now have Doxygen docs. <a href="http://reviews.llvm.org/rL265844">r265844</a>.</p></li></ul><h3>Other project commits</h3><ul><li><p>clang-tidy gained a new check to flag initializers of globals that access  extern objects, leading to potential order-of-initialization issues. <a href="http://reviews.llvm.org/rL265774">r265774</a>.</p></li><li><p>LLD's ELF linker gained new options <code>--start-lib</code>, <code>--end-lib</code>,  <code>--no-gnu-unique</code>, <code>--strip-debug</code>. <a href="http://reviews.llvm.org/rL265710">r265710</a>,  <a href="http://reviews.llvm.org/rL265717">r265717</a>,  <a href="http://reviews.llvm.org/rL265722">r265722</a>.</p></li></ul>
